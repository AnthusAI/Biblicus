<testsuite name="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" tests="9" errors="0" failures="0" skipped="0" time="0.108396" timestamp="2026-01-29T13:53:08.165654" hostname="JW2TF3YWMJ"><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Initialize a new corpus" status="passed" time="0.006764"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Initialize a new corpus
    When I initialize a corpus at "corpus" ... passed in 0.004s
    Then the corpus directory "corpus" exists ... passed in 0.000s
    And the corpus has a config file ... passed in 0.001s
    And the corpus has a catalog file ... passed in 0.001s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Ingest a text note with title and tags" status="passed" time="0.009405"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Ingest a text note with title and tags
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    When I ingest the text "hello world" with title "Test" and tags "a,b" into corpus "corpus" ... passed in 0.005s
    Then the last ingest succeeds ... passed in 0.000s
    And the last ingested item is a markdown note with title "Test" and tags: ... passed in 0.001s
      | tag |
      | a   |
      | b   |
    And the last ingested item has biblicus provenance with source "text" ... passed in 0.001s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Ingest a markdown file and merge tags" status="passed" time="0.009857"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Ingest a markdown file and merge tags
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    And a file "note.md" exists with markdown front matter: ... passed in 0.000s
      | key   | value     |
      | title | From file |
      | tags  | x         |
    And the file "note.md" has body: ... passed in 0.000s
      """
      body line
      """
    When I ingest the file "note.md" with tags "y" into corpus "corpus" ... passed in 0.005s
    Then the last ingest succeeds ... passed in 0.000s
    And the last ingested item is stored in the corpus raw folder ... passed in 0.000s
    And the last ingested item is markdown with title "From file" and tags: ... passed in 0.001s
      | tag |
      | y   |
      | x   |

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Ingest markdown with scalar tags and existing biblicus block" status="passed" time="0.008175"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Ingest markdown with scalar tags and existing biblicus block
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    And a file "preset.md" exists with contents: ... passed in 0.000s
      """
      ---
      title: Preset
      tags: x
      biblicus:
        source: manual
      ---
      body
      """
    When I ingest the file "preset.md" with tags "x,y" into corpus "corpus" ... passed in 0.004s
    Then the last ingest succeeds ... passed in 0.000s
    And the last ingested item is markdown with title "Preset" and tags: ... passed in 0.001s
      | tag |
      | x   |
      | y   |

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Ingest a non-markdown file and create a sidecar" status="passed" time="0.025706"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Ingest a non-markdown file and create a sidecar
    Given I initialized a corpus at "corpus" ... passed in 0.004s
    And a binary file "report.pdf" exists ... passed in 0.000s
    When I ingest the file "report.pdf" with tags "paper" into corpus "corpus" ... passed in 0.017s
    Then the last ingest succeeds ... passed in 0.000s
    And the last ingested item has a sidecar metadata file ... passed in 0.001s
    And the last ingested item's sidecar includes media type "application/pdf" ... passed in 0.001s
    And the last ingested item has biblicus provenance with a file source uniform resource identifier ... passed in 0.003s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="List and show items" status="passed" time="0.016252"><system-out>
<![CDATA[
@scenario.begin
  Scenario: List and show items
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    When I ingest the text "hello" with title "First" and tags "t1" into corpus "corpus" ... passed in 0.004s
    And I ingest the text "world" with title "Second" and tags "t2" into corpus "corpus" ... passed in 0.004s
    And I list items in corpus "corpus" ... passed in 0.003s
    Then the list output includes the last ingested item identifier ... passed in 0.000s
    When I show the last ingested item in corpus "corpus" ... passed in 0.003s
    Then the shown JavaScript Object Notation includes title "Second" ... passed in 0.000s
    And the shown JavaScript Object Notation includes tag "t2" ... passed in 0.000s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Reindex reflects edits to sidecar metadata" status="passed" time="0.015358"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Reindex reflects edits to sidecar metadata
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    And a binary file "data.bin" exists ... passed in 0.000s
    When I ingest the file "data.bin" with tags "raw" into corpus "corpus" ... passed in 0.004s
    And I add tag "curated" to the last ingested item's sidecar metadata ... passed in 0.001s
    And I reindex corpus "corpus" ... passed in 0.004s
    And I show the last ingested item in corpus "corpus" ... passed in 0.003s
    Then the shown JavaScript Object Notation includes tag "raw" ... passed in 0.000s
    And the shown JavaScript Object Notation includes tag "curated" ... passed in 0.000s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Ingest a markdown file without front matter" status="passed" time="0.010312"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Ingest a markdown file without front matter
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    And a text file "plain.md" exists with contents "hello" ... passed in 0.000s
    When I ingest the file "plain.md" into corpus "corpus" ... passed in 0.004s
    Then the last ingest succeeds ... passed in 0.000s
    And the last ingested item has biblicus provenance with a file source uniform resource identifier ... passed in 0.003s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase><testcase classname="biblicus_corpus.Biblicus corpus (command-line interface first raw ingestion)" name="Reindex inserts items based on universally unique identifier filename prefix" status="passed" time="0.006565"><system-out>
<![CDATA[
@scenario.begin
  Scenario: Reindex inserts items based on universally unique identifier filename prefix
    Given I initialized a corpus at "corpus" ... passed in 0.003s
    And a raw file with universally unique identifier "00000000-0000-0000-0000-000000000001" exists in corpus "corpus" named "orphan.txt" with contents "hi" ... passed in 0.000s
    When I reindex corpus "corpus" ... passed in 0.003s
    Then reindex stats include inserted 1 ... passed in 0.000s
    And reindex stats include skipped 0 ... passed in 0.000s

@scenario.end
--------------------------------------------------------------------------------
]]>
</system-out></testcase></testsuite>