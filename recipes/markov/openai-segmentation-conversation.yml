schema_version: 1
text_source:
  sample_size: 50
  min_text_characters: 200
segmentation:
  method: llm
  llm:
    client:
      provider: openai
      model: gpt-4o-mini
      api_key: null
      response_format: json_object
    system_prompt: null
    prompt_template: |
      You are segmenting a phone conversation transcript into contiguous phases.

      Return ONLY a JSON object with a single key named "segments", which is a JSON array of strings.
      Each string is a contiguous segment copied from the input text.
      Do not wrap the JSON in markdown or code fences. Do not include any extra text before or after the JSON.

      Rules:
      - Preserve original order.
      - Do not add labels, summaries, or commentary.
      - Do not paraphrase. Copy exact text spans.
      - Prefer natural boundaries like: greeting/opening, identity verification, reason for call,
        clarification, resolution steps, handoff/escalation, closing.
      - Use speaker turn changes as possible boundaries, but keep multi-turn exchanges together if they
        form a single phase.
      - Aim for 6 to 14 segments for typical calls; allow fewer/more as needed.
      - Avoid extremely short fragments; merge tiny leftovers into the previous segment.

      Now segment this text:
      ---
      {text}
      ---
observations:
  encoder: tfidf
  tfidf:
    max_features: 2000
    ngram_range: [1, 2]
model:
  family: gaussian
  n_states: 2
artifacts:
  graphviz:
    enabled: true
